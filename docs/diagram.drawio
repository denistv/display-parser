<mxfile host="Electron" modified="2023-06-18T14:49:48.093Z" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.4.0 Chrome/112.0.5615.204 Electron/24.5.1 Safari/537.36" etag="bqdF9Fp47Nsx6AmdpB8h" version="21.4.0" type="device">
  <diagram name="Страница 1" id="jV9yJ5Iw43YUvvW95kSO">
    <mxGraphModel dx="2353" dy="2584" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="lua--HzXDwpZpQfTK4MF-50" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="30" y="1514" width="1646.5" height="326" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-43" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;opacity=30;" vertex="1" parent="lua--HzXDwpZpQfTK4MF-50">
          <mxGeometry width="1646.5" height="326" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-48" value="&lt;font style=&quot;font-size: 32px;&quot;&gt;Stage 5&lt;br&gt;Model persister&lt;br style=&quot;font-size: 32px;&quot;&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;" vertex="1" parent="lua--HzXDwpZpQfTK4MF-50">
          <mxGeometry y="6" width="1622.1212984054669" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-54" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="20" y="-160" width="1650" height="240" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-35" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;opacity=30;" vertex="1" parent="lua--HzXDwpZpQfTK4MF-54">
          <mxGeometry width="1650" height="240" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-38" value="&lt;font style=&quot;font-size: 32px;&quot;&gt;Stage 1&lt;br&gt;Brand URL Collector&lt;br style=&quot;font-size: 32px;&quot;&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;" vertex="1" parent="lua--HzXDwpZpQfTK4MF-54">
          <mxGeometry x="1110" width="532.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-53" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="20" y="90" width="1650" height="260" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-36" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;opacity=30;" vertex="1" parent="lua--HzXDwpZpQfTK4MF-53">
          <mxGeometry width="1650" height="260" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-45" value="&lt;font style=&quot;font-size: 32px;&quot;&gt;Stage 2&lt;br&gt;Model URL Collector&lt;br style=&quot;font-size: 32px;&quot;&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;" vertex="1" parent="lua--HzXDwpZpQfTK4MF-53">
          <mxGeometry x="1210" y="7.5" width="432.49999999999994" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-98" value="https://displayspecifications.com" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.multi-document;whiteSpace=wrap;" parent="lua--HzXDwpZpQfTK4MF-53" vertex="1">
          <mxGeometry x="1000.0046715328467" y="-21.25" width="287.05182481751825" height="162.5" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-51" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="20" y="360" width="1650" height="290" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-52" value="" style="group" vertex="1" connectable="0" parent="lua--HzXDwpZpQfTK4MF-51">
          <mxGeometry x="319.99939394054184" width="1330.000606059458" height="290" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-37" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;opacity=30;" vertex="1" parent="lua--HzXDwpZpQfTK4MF-52">
          <mxGeometry x="-320" width="1650" height="290" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-46" value="&lt;font style=&quot;font-size: 32px;&quot;&gt;Stage 3&lt;br&gt;Page content Collector&lt;br style=&quot;font-size: 32px;&quot;&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;" vertex="1" parent="lua--HzXDwpZpQfTK4MF-52">
          <mxGeometry x="890.3283137721334" y="10.629999999999995" width="432.4991808727635" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-1" value="Мультиплексирование нескольких выходных каналов в один.&lt;br&gt;&lt;br&gt;Объединяет множество выходных каналов воркеров одного типа в один, с которым соединяется последующий этап обработки." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;" vertex="1" parent="lua--HzXDwpZpQfTK4MF-52">
          <mxGeometry x="620.0006060594582" y="150" width="175" height="170" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-49" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="560" y="890" width="1090" height="320" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-41" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;opacity=30;" vertex="1" parent="lua--HzXDwpZpQfTK4MF-49">
          <mxGeometry x="-540" width="1630" height="320" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-47" value="&lt;font style=&quot;font-size: 32px;&quot;&gt;Stage 4&lt;br&gt;Model parser&lt;br style=&quot;font-size: 32px;&quot;&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;" vertex="1" parent="lua--HzXDwpZpQfTK4MF-49">
          <mxGeometry x="753.083948015455" y="10" width="331.17316473480855" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-1" target="6m8CLDb69LJXBCj5FW6X-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-13" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;edgeStyle=orthogonalEdgeStyle;" parent="1" source="Q8z2hUsK44NVa-dtH0da-1" target="6m8CLDb69LJXBCj5FW6X-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="810" y="-95" />
              <mxPoint x="810" y="150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-1" value="Brands URL Collector" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="494" y="-135" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-12" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="6m8CLDb69LJXBCj5FW6X-4" target="Q8z2hUsK44NVa-dtH0da-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="570" y="220" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-55" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="6m8CLDb69LJXBCj5FW6X-4" target="Q8z2hUsK44NVa-dtH0da-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-56" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="6m8CLDb69LJXBCj5FW6X-4" target="Q8z2hUsK44NVa-dtH0da-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-14" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-2" target="6m8CLDb69LJXBCj5FW6X-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-2" value="Model URLs Collector" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="494" y="110" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;opacity=50;" parent="1" source="Q8z2hUsK44NVa-dtH0da-53" target="Q8z2hUsK44NVa-dtH0da-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jEqP6USDweVefn3_BQk9-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-3" target="jEqP6USDweVefn3_BQk9-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-3" value="Page content collector" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="494" y="414.5" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-4" target="Q8z2hUsK44NVa-dtH0da-68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-4" value="Model parser" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="604.67" y="955" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-85" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-5" target="Q8z2hUsK44NVa-dtH0da-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-5" value="Model parser" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="724.67" y="955" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-6" target="Q8z2hUsK44NVa-dtH0da-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-6" value="Model parser" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="844.67" y="955" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-7" target="Q8z2hUsK44NVa-dtH0da-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-7" value="Model parser" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="964.67" y="955" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-8" target="Q8z2hUsK44NVa-dtH0da-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-8" value="Model parser" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1084.67" y="955" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-9" target="Q8z2hUsK44NVa-dtH0da-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-42" value="insert/update model page entity" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Q8z2hUsK44NVa-dtH0da-40" vertex="1" connectable="0">
          <mxGeometry x="-0.129" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="moRboGbSg9CiqHO73stz-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-9" target="moRboGbSg9CiqHO73stz-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-9" value="Model persister" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="1307" y="1565" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-27" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 4;" parent="1" source="Q8z2hUsK44NVa-dtH0da-26" target="Q8z2hUsK44NVa-dtH0da-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-26" value="Собирает URL на страницы с брендами мониторов" style="shape=note;size=20;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="45" y="-150" width="120" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-29" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 4;" parent="1" source="Q8z2hUsK44NVa-dtH0da-28" target="Q8z2hUsK44NVa-dtH0da-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-28" value="Собирает URL на страницы с моделями описаний мониторов по каждому бренду" style="shape=note;size=20;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="97.5" width="150" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-31" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 4;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-30" target="Q8z2hUsK44NVa-dtH0da-52" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="360" y="630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-30" value="Сохраняет в БД сырую html-страницу с описанием монитора для последующего парсинга.&lt;br&gt;Можем масштабироваться путем добавления коллекторов для ускорения загрузки страниц с сайта" style="shape=note;size=20;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="20" y="370.63" width="190" height="167.75" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-34" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=1 4;" parent="1" source="Q8z2hUsK44NVa-dtH0da-32" target="Q8z2hUsK44NVa-dtH0da-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-32" value="Парсит тело html страницы и создает внутреннюю сущность модели монитора с требуемыми атрибутами" style="shape=note;size=20;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="344" y="1035" width="150" height="120" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-93" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 4;" parent="1" source="Q8z2hUsK44NVa-dtH0da-35" target="Q8z2hUsK44NVa-dtH0da-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="590.67" y="1695.1865569272968" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-35" value="Сохраняет в БД сущность модели (или обновляет)" style="shape=note;size=20;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="979" y="1540" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-39" value="postgres" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1742.5" y="1570" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="jEqP6USDweVefn3_BQk9-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-52" target="jEqP6USDweVefn3_BQk9-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-52" value="Page content collector" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="374" y="415" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jEqP6USDweVefn3_BQk9-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-53" target="jEqP6USDweVefn3_BQk9-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Q8z2hUsK44NVa-dtH0da-53" target="6m8CLDb69LJXBCj5FW6X-10">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="810" y="455" />
              <mxPoint x="810" y="150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-53" value="Page content collector" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="620" y="415" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-61" target="Q8z2hUsK44NVa-dtH0da-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-61" target="Q8z2hUsK44NVa-dtH0da-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-61" target="Q8z2hUsK44NVa-dtH0da-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-61" target="Q8z2hUsK44NVa-dtH0da-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-61" target="Q8z2hUsK44NVa-dtH0da-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-61" value="model channel" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="811.17" y="805" width="146" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Q8z2hUsK44NVa-dtH0da-68" target="lua--HzXDwpZpQfTK4MF-19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="645" y="1340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-68" value="model ch" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="598.17" y="1106" width="93" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Q8z2hUsK44NVa-dtH0da-70" target="lua--HzXDwpZpQfTK4MF-19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="765" y="1330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-70" value="model ch" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="718.17" y="1106" width="93" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Q8z2hUsK44NVa-dtH0da-71" target="lua--HzXDwpZpQfTK4MF-19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="885" y="1320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-71" value="model ch" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="838.17" y="1106" width="93" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Q8z2hUsK44NVa-dtH0da-72" target="lua--HzXDwpZpQfTK4MF-19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1005" y="1310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-72" value="model ch" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="958.17" y="1106" width="93" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Q8z2hUsK44NVa-dtH0da-73" target="lua--HzXDwpZpQfTK4MF-19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1125" y="1300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-73" value="model ch" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1078.17" y="1106" width="93" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-80" target="Q8z2hUsK44NVa-dtH0da-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Q8z2hUsK44NVa-dtH0da-80" value="model ch" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1300.5" y="1400" width="93" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="Q8z2hUsK44NVa-dtH0da-2" target="6m8CLDb69LJXBCj5FW6X-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="534" y="470" as="sourcePoint" />
            <mxPoint x="660" y="585" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-4" value="model URLs chan" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="461.5" y="250" width="146" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="6m8CLDb69LJXBCj5FW6X-6" target="Q8z2hUsK44NVa-dtH0da-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-6" value="brands URL chan" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="461.5" y="-10" width="146" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="6m8CLDb69LJXBCj5FW6X-10" target="Q8z2hUsK44NVa-dtH0da-98" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-10" value="http-client with rate-limit" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="864" y="110" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 4;" parent="1" source="6m8CLDb69LJXBCj5FW6X-16" target="Q8z2hUsK44NVa-dtH0da-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-20" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 4;" parent="1" source="6m8CLDb69LJXBCj5FW6X-19" target="6m8CLDb69LJXBCj5FW6X-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-19" value="http-client, реализованный в виде синглтон-сервиса, который внедряется в другие сервисы, которые собираются общаться с сайтом.&lt;br&gt;&lt;br&gt;&lt;b&gt;Проблема:&lt;br&gt;&lt;/b&gt;сайт ограничивает одновременное число соединений с одного хоста банит, если в него часто ходить.&lt;br&gt;&lt;br&gt;&lt;b&gt;Решение:&amp;nbsp;&lt;br&gt;&lt;/b&gt;Поскольку внутри приложения есть три сервиса, которые могут ходить в сайт, необходимо реализовать общий рейт-лимит до сайта, чтобы не приходилось реализовывать его отдельно в каждом из сервисов, что усложняет реализацию.&lt;br&gt;В один момент времени в сторону сайта должен уходить только один http-запрос и это контролируется общим http-клиентом." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;" parent="1" vertex="1">
          <mxGeometry x="823.5" y="-520" width="323" height="310" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="6m8CLDb69LJXBCj5FW6X-21" target="Q8z2hUsK44NVa-dtH0da-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-21" value="&lt;b&gt;Run&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="494.5" y="-320" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="moRboGbSg9CiqHO73stz-1" target="lua--HzXDwpZpQfTK4MF-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="moRboGbSg9CiqHO73stz-1" value="done ch" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="1300" y="1729" width="93" height="60" as="geometry" />
        </mxCell>
        <mxCell id="moRboGbSg9CiqHO73stz-5" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=1 4;" parent="1" source="moRboGbSg9CiqHO73stz-3" target="moRboGbSg9CiqHO73stz-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="moRboGbSg9CiqHO73stz-3" value="Закрытие done-канала сигнализирует внешнему миру о завершении работы пайплайна (все данные обработаны)" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;" parent="1" vertex="1">
          <mxGeometry x="976.5" y="1684" width="142.5" height="150" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jEqP6USDweVefn3_BQk9-1" target="lua--HzXDwpZpQfTK4MF-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="414" y="720" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jEqP6USDweVefn3_BQk9-1" value="model ch" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="374.5" y="555" width="79" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jEqP6USDweVefn3_BQk9-2" target="lua--HzXDwpZpQfTK4MF-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="534" y="700" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jEqP6USDweVefn3_BQk9-2" value="model ch" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="494.5" y="555" width="79" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jEqP6USDweVefn3_BQk9-3" target="lua--HzXDwpZpQfTK4MF-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="660" y="680" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jEqP6USDweVefn3_BQk9-3" value="model ch" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="620.5" y="555" width="79" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jEqP6USDweVefn3_BQk9-15" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 4;" parent="1" source="lua--HzXDwpZpQfTK4MF-1" target="lua--HzXDwpZpQfTK4MF-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="220" y="718.967391304348" as="sourcePoint" />
            <mxPoint x="680" y="740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-2" value="Внутреннее устройство пайплайна" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;" vertex="1" parent="1">
          <mxGeometry x="315.5" y="-460" width="436" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-4" value="&lt;b&gt;End&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1306.5" y="1890" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="lua--HzXDwpZpQfTK4MF-6" target="Q8z2hUsK44NVa-dtH0da-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-6" value="" style="shape=xor;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="700" y="660" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="lua--HzXDwpZpQfTK4MF-19" target="Q8z2hUsK44NVa-dtH0da-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lua--HzXDwpZpQfTK4MF-19" value="" style="shape=xor;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1170.33" y="1280" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6m8CLDb69LJXBCj5FW6X-16" value="Зачастую возникает необходимость добавить какой-то новый атрибут к модели монитора (хранится в таблице models), а страницы моделей уже загружены в базу.&lt;br&gt;&lt;br&gt;Чтобы не загружать страницы моделей повторно через сеть с сайта (их не одна тысяча), можно извлечь их из БД и повторно распарсить, добавив в имеющиеся сущности моделей новые атрибуты.&lt;br&gt;&lt;br&gt;Для этого можно просто наполнить этот канал сущностями моделей мониторов, не запуская BrandsCollector, ModelURLsCollector.&lt;br&gt;&lt;br&gt;Два этих сценария конфигурируются через специальную настройку пайплайна при запуске" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;" parent="1" vertex="1">
          <mxGeometry x="60" y="677.5" width="270" height="315" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
